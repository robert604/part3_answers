(this.webpackJsonpworking=this.webpackJsonpworking||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var r=n(16),s=n.n(r),c=n(3),o=n(2),i=n(4),a=n.n(i),u="/api/persons",l={getAllPersons:function(){return a.a.get("/api/persons").then((function(e){return e.data}))},createPerson:function(e){return a.a.post("/api/persons",e).then((function(e){return e.data}))},deletePerson:function(e){var t="".concat(u,"/").concat(e);return a.a.delete(t)},updatePerson:function(e){var t="".concat(u,"/").concat(e.id);return a.a.put(t,e)}},d=n(0),j=function(e){var t=e.person,n=e.persons,r=e.setPersons,s=e.setMessage;return Object(d.jsxs)("div",{children:[t.name," ",t.number," ",Object(d.jsx)("button",{onClick:function(e){window.confirm("Confirm deletion of ".concat(t.name))&&l.deletePerson(t.id).then((function(e){r(n.filter((function(e){return e.id!==t.id}))),p(s,{string:"Deleted person: ".concat(t.name),isError:!1})}))},children:"delete"})]})},b=function(e){var t=e.filtered,n=e.persons,r=e.setPersons,s=e.setMessage;return t.map((function(e){return Object(d.jsx)(j,{person:e,persons:n,setPersons:r,setMessage:s},e.id)}))},f=function(e){var t=e.filterText,n=e.filterTextChangeHandler;return Object(d.jsxs)("div",{children:["filter shown with",Object(d.jsx)("input",{value:t,onChange:n})]})},h=function(e){var t=e.message;if(null===t)return null;var n=t.string,r={color:"green",background:"lightgrey",borderStyle:"solid",borderRadius:"5px",marginBottom:"10px",padding:"10px",fontSize:"20px"};return t.isError&&(r.color="red"),Object(d.jsx)("div",{style:r,children:n})};function p(e,t){e(t),setTimeout((function(){return e(null)}),5e3)}var O=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(""),i=Object(c.a)(s,2),a=i[0],u=i[1],j=Object(o.useState)(""),O=Object(c.a)(j,2),g=O[0],x=O[1],v=Object(o.useState)(""),m=Object(c.a)(v,2),P=m[0],w=m[1],C=Object(o.useState)(null),k=Object(c.a)(C,2),S=k[0],y=k[1];return Object(o.useEffect)((function(){l.getAllPersons().then((function(e){r(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(h,{message:S}),Object(d.jsx)(f,{filterText:P,filterTextChangeHandler:function(e){w(e.target.value)}}),Object(d.jsxs)("form",{children:[Object(d.jsx)("h2",{children:"add a new"}),Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:a,onChange:function(e){u(e.target.value)}})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:g,onChange:function(e){x(e.target.value)}})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t={name:a,number:g};l.createPerson(t).then((function(e){r(n.concat(e)),p(y,{string:"Added person: ".concat(e.name),isError:!1})})),u(""),x("")},children:"add"})})]}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(b,{filtered:n.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())})),persons:n,setPersons:r,setMessage:y})]})};s.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f15d3ce0.chunk.js.map